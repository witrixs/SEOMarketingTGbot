## Telegram бот для продвижения казино-проекта (aiogram 3)

Функционал:
- Админ-меню внутри Telegram: создание постов (текст, фото, GIF/анимация, видео), предпросмотр, мгновенная публикация
- Кнопка с ссылкой под постом (общая глобальная ссылка или индивидуальная для поста)
- Планирование отправок: разовая дата/время и циклические повторы (каждый час/день и т.п.)
- Циклирование постов по времени (авто-цикл всего каталога постов по интервалу)
- Базовая статистика: количество постов, активных подписчиков, очередь расписаний
- Хранение в aiosqlite, конфигурация через .env

Логика рассылки: вся рассылка идёт подписчикам бота. Как только пользователь отправляет `/start`, он попадает в БД и сразу получает последний пост.

Ограничение: Telegram не отдаёт клики по URL-кнопкам. Считать именно клики по внешней ссылке нельзя. Можно считать действия внутри бота (например, нажатия callback-кнопок), если включить такой сценарий.

### Требования
- Python 3.10+
- Windows/macOS/Linux

### Установка
1) Клонируйте проект и перейдите в каталог:
```bash
cd motorSEO
```

2) Создайте и активируйте окружение:
```bash
# Windows PowerShell
python -m venv .venv
.\.venv\Scripts\Activate.ps1
```

3) Установите зависимости:
```bash
pip install -r requirements.txt
```

4) Создайте `.env` по образцу:
```bash
copy .env.example .env  # Windows
```
Заполните в `.env`:
- `BOT_TOKEN` — токен бота
- `ADMIN_IDS` — ID админов через запятую
- (опц.) `DEFAULT_GLOBAL_LINK` — общая ссылка для кнопки в постах

### Запуск
```bash
python -m bot.main
```

После запуска используйте `/admin` в чате с ботом для открытия админ-меню.

### Ключевые возможности админки
- Создать пост: загрузите фото/GIF/видео или отправьте текст → задайте подпись и ссылку (или используйте глобальную)
- Публиковать сейчас: рассылка всем активным подписчикам
- Запланировать отправку: дата/время + повтор (нет/1ч/3ч/6ч/12ч/сутки)
- Глобальная ссылка: изменяется один раз — применяется ко всем постам по умолчанию
- Циклическая рассылка: автопостинг всех постов по заданному интервалу подписчикам

### Структура проекта
```
bot/
  main.py
  config.py
  db.py
  models.py
  scheduler.py
  services/
    posts.py
  routers/
    admin.py
    public.py
  keyboards.py
```

### Развитие
- /stop — отписка пользователя
- Теги/категории постов и сегменты подписчиков
- Импорт/экспорт контента
- Поддержка нескольких кнопок под постом
- Учёт действий внутри бота (например, выдача ссылки через callback) 